<svg id="SvgjsSvg1006" width="633" height="614.953125" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1024" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1025" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1052" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1053" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1056" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1057" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1078" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1079" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1082" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1083" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1086" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1087" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1094" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1095" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1108" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1109" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1120" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1121" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1132" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1133" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1146" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1147" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1008" transform="translate(70.31249999999994,96.96354166666671)"><path id="SvgjsPath1009" d="M 0 4Q 0 0 4 0L 108.00000000000057 0Q 112.00000000000057 0 112.00000000000057 4L 112.00000000000057 41.190476190476176Q 112.00000000000057 45.190476190476176 108.00000000000057 45.190476190476176L 4 45.190476190476176Q 0 45.190476190476176 0 41.190476190476176Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="93px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.470238095238088" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="56.5"><tspan id="SvgjsTspan1013" style="text-decoration:;">按照一定规则对</tspan></tspan><tspan id="SvgjsTspan1014" dy="16" x="56.5"><tspan id="SvgjsTspan1015" style="text-decoration:;">文件进行分块</tspan></tspan></text></g></g><g id="SvgjsG1016" transform="translate(101.81250000000023,25.0111607142857)"><path id="SvgjsPath1017" d="M 0 23C 0 -7.666666666666667 49 -7.666666666666667 49 23C 49 53.666666666666664 0 53.666666666666664 0 23Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1018"><text id="SvgjsText1019" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="29px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.375" transform="rotate(0)"><tspan id="SvgjsTspan1020" dy="16" x="24.5"><tspan id="SvgjsTspan1021" style="text-decoration:;">开始</tspan></tspan></text></g></g><g id="SvgjsG1022"><path id="SvgjsPath1023" d="M126.31250000000023 72.0111607142857L126.31250000000023 83.9873511904762L126.31250000000051 83.9873511904762L126.31250000000051 93.36354166666672" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1024)"></path></g><g id="SvgjsG1026" transform="translate(76.31250000000017,179.5349702380953)"><path id="SvgjsPath1027" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 39.571428571428584Q 100 43.571428571428584 96 43.571428571428584L 4 43.571428571428584Q 0 43.571428571428584 0 39.571428571428584Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3.660714285714292" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="16" x="50"><tspan id="SvgjsTspan1031" style="text-decoration:;">初始化一个上</tspan></tspan><tspan id="SvgjsTspan1032" dy="16" x="50"><tspan id="SvgjsTspan1033" style="text-decoration:;">传任务</tspan></tspan></text></g></g><g id="SvgjsG1034" transform="translate(55.01488095238119,260.48735119047626)"><path id="SvgjsPath1035" d="M 0 4Q 0 0 4 0L 138.59523809523802 0Q 142.59523809523802 0 142.59523809523802 4L 142.59523809523802 51.952380952380906Q 142.59523809523802 55.952380952380906 138.59523809523802 55.952380952380906L 4 55.952380952380906Q 0 55.952380952380906 0 51.952380952380906Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1036"><text id="SvgjsText1037" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.851190476190453" transform="rotate(0)"><tspan id="SvgjsTspan1038" dy="16" x="71.5"><tspan id="SvgjsTspan1039" style="text-decoration:;">上传下一个待上传的</tspan></tspan><tspan id="SvgjsTspan1040" dy="16" x="71.5"><tspan id="SvgjsTspan1041" style="text-decoration:;">分片数据</tspan></tspan></text></g></g><g id="SvgjsG1042" transform="translate(66.31250000000017,354.5349702380952)"><path id="SvgjsPath1043" d="M 0 40L 60 0L 120 40L 60 80Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1044"><text id="SvgjsText1045" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="22.275" transform="rotate(0)"><tspan id="SvgjsTspan1046" dy="16" x="60"><tspan id="SvgjsTspan1047" style="text-decoration:;">是否是最后一个</tspan></tspan><tspan id="SvgjsTspan1048" dy="16" x="60"><tspan id="SvgjsTspan1049" style="text-decoration:;">分片数据</tspan></tspan></text></g></g><g id="SvgjsG1050"><path id="SvgjsPath1051" d="M126.31250000000017 317.4397321428572L126.31250000000017 335.4873511904762L126.31250000000017 335.4873511904762L126.31250000000017 350.93497023809516" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1052)"></path></g><g id="SvgjsG1054"><path id="SvgjsPath1055" d="M65.31250000000017 394.5349702380952L25.01488095238119 394.5349702380952L25.01488095238119 288.4635416666668L51.41488095238117 288.4635416666668" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1056)"></path><rect id="SvgjsRect1058" width="13" height="16" x="18.51488095238119" y="340.44806547619044" fill="#ffffff"></rect><text id="SvgjsText1059" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="338.82306547619044" transform="rotate(0)"><tspan id="SvgjsTspan1060" dy="16" x="25.01488095238119"><tspan id="SvgjsTspan1061" style="text-decoration:;">否</tspan></tspan></text></g><g id="SvgjsG1062" transform="translate(49.75297619047626,496.4397321428572)"><path id="SvgjsPath1063" d="M 0 4Q 0 0 4 0L 149.11904761904782 0Q 153.11904761904782 0 153.11904761904782 4L 153.11904761904782 36Q 153.11904761904782 40 149.11904761904782 40L 4 40Q 0 40 0 36Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1064"><text id="SvgjsText1065" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="134px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.875" transform="rotate(0)"><tspan id="SvgjsTspan1066" dy="16" x="77"><tspan id="SvgjsTspan1067" style="text-decoration:;">所有分片数据已上传完</tspan></tspan><tspan id="SvgjsTspan1068" dy="16" x="77"><tspan id="SvgjsTspan1069" style="text-decoration:;">成，触发分片数据合成</tspan></tspan></text></g></g><g id="SvgjsG1070" transform="translate(76.31250000000023,565.9635416666667)"><path id="SvgjsPath1071" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 20.52380952380952Q 100 24.52380952380952 96 24.52380952380952L 4 24.52380952380952Q 0 24.52380952380952 0 20.52380952380952Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1072"><text id="SvgjsText1073" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.636904761904759" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16" x="50"><tspan id="SvgjsTspan1075" style="text-decoration:;">完成上传</tspan></tspan></text></g></g><g id="SvgjsG1076"><path id="SvgjsPath1077" d="M126.31250000000023 143.1540178571429L126.31250000000023 160.8444940476191L126.31250000000017 160.8444940476191L126.31250000000017 175.9349702380953" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1078)"></path></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M126.31250000000017 224.10639880952388L126.31250000000017 241.79687500000006L126.31250000000017 241.79687500000006L126.31250000000017 256.88735119047624" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1082)"></path></g><g id="SvgjsG1084"><path id="SvgjsPath1085" d="M126.31250000000017 435.5349702380952L126.31250000000017 465.4873511904762L126.31250000000017 465.4873511904762L126.31250000000017 492.8397321428572" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1086)"></path><rect id="SvgjsRect1088" width="13" height="16" x="119.81250000000017" y="456.1873511904762" fill="#ffffff"></rect><text id="SvgjsText1089" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="454.5623511904762" transform="rotate(0)"><tspan id="SvgjsTspan1090" dy="16" x="126.31250000000017"><tspan id="SvgjsTspan1091" style="text-decoration:;">是</tspan></tspan></text></g><g id="SvgjsG1092"><path id="SvgjsPath1093" d="M126.31250000000017 537.4397321428572L126.31250000000017 551.2016369047619L126.31250000000023 551.2016369047619L126.31250000000023 562.3635416666667" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1094)"></path></g><g id="SvgjsG1096" transform="translate(267.00297619047626,84.55877976190479)"><path id="SvgjsPath1097" d="M 0 4Q 0 0 4 0L 287.9047619047619 0Q 291.9047619047619 0 291.9047619047619 4L 291.9047619047619 66Q 291.9047619047619 70 287.9047619047619 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1098"><text id="SvgjsText1099" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="272px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="8.875" transform="rotate(0)"><tspan id="SvgjsTspan1100" dy="16" x="146"><tspan id="SvgjsTspan1101" style="text-decoration:;">一般最终分片数不能太多，最好控制在 10000 </tspan></tspan><tspan id="SvgjsTspan1102" dy="16" x="146"><tspan id="SvgjsTspan1103" style="text-decoration:;">以内。如果文件太大，可以适当增加每个分片</tspan></tspan><tspan id="SvgjsTspan1104" dy="16" x="146"><tspan id="SvgjsTspan1105" style="text-decoration:;">数据的大小。每片最佳控制在 10M 以内。</tspan></tspan></text></g></g><g id="SvgjsG1106"><path id="SvgjsPath1107" d="M266.00297619047626 119.55877976190479L224.65773809523841 119.55877976190479L224.65773809523841 119.55877976190479L185.91250000000053 119.55877976190479" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1108)"></path></g><g id="SvgjsG1110" transform="translate(293.8125,169.33258928571436)"><path id="SvgjsPath1111" d="M 0 4Q 0 0 4 0L 133 0Q 137 0 137 4L 137 59.976190476190425Q 137 63.976190476190425 133 63.976190476190425L 4 63.976190476190425Q 0 63.976190476190425 0 59.976190476190425Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1112"><text id="SvgjsText1113" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.863095238095212" transform="rotate(0)"><tspan id="SvgjsTspan1114" dy="16" x="68.5"><tspan id="SvgjsTspan1115" style="text-decoration:;">获取一个分片上传任</tspan></tspan><tspan id="SvgjsTspan1116" dy="16" x="68.5"><tspan id="SvgjsTspan1117" style="text-decoration:;">务唯一标识 id。</tspan></tspan></text></g></g><g id="SvgjsG1118"><path id="SvgjsPath1119" d="M292.8125 201.32068452380958L235.0625000000001 201.32068452380958L235.0625000000001 201.32068452380958L179.9125000000002 201.32068452380958" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1120)"></path></g><g id="SvgjsG1122" transform="translate(293.8125,264.0468750000001)"><path id="SvgjsPath1123" d="M 0 4Q 0 0 4 0L 264 0Q 268 0 268 4L 268 44.83333333333326Q 268 48.83333333333326 264 48.83333333333326L 4 48.83333333333326Q 0 48.83333333333326 0 44.83333333333326Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1124"><text id="SvgjsText1125" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="248px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="6.291666666666629" transform="rotate(0)"><tspan id="SvgjsTspan1126" dy="16" x="134"><tspan id="SvgjsTspan1127" style="text-decoration:;">每个分片数据上传时，携带分片数据顺序、</tspan></tspan><tspan id="SvgjsTspan1128" dy="16" x="134"><tspan id="SvgjsTspan1129" style="text-decoration:;">分片大小、分片上传唯一 id 等信息。</tspan></tspan></text></g></g><g id="SvgjsG1130"><path id="SvgjsPath1131" d="M292.8125 288.46354166666674L245.71130952380963 288.46354166666674L245.71130952380963 288.46354166666674L201.21011904761923 288.46354166666674" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1132)"></path></g><g id="SvgjsG1134" transform="translate(267.00297619047626,481.4397321428572)"><path id="SvgjsPath1135" d="M 0 4Q 0 0 4 0L 337 0Q 341 0 341 4L 341 66Q 341 70 337 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1136"><text id="SvgjsText1137" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="321px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="8.875" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="16" x="170.5"><tspan id="SvgjsTspan1139" style="text-decoration:;">一般服务端可以自己完成分片数据是否上传完成的判</tspan></tspan><tspan id="SvgjsTspan1140" dy="16" x="170.5"><tspan id="SvgjsTspan1141" style="text-decoration:;">断，但是基于性能考虑，最好由客户端自己在确定分片</tspan></tspan><tspan id="SvgjsTspan1142" dy="16" x="170.5"><tspan id="SvgjsTspan1143" style="text-decoration:;">数据上传完毕后主动触发分片合成。</tspan></tspan></text></g></g><g id="SvgjsG1144"><path id="SvgjsPath1145" d="M266.00297619047626 516.4397321428572L234.93750000000017 516.4397321428572L234.93750000000017 516.4397321428572L206.4720238095241 516.4397321428572" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1146)"></path></g></svg>